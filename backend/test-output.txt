[dotenv@17.3.1] injecting env (5) from .env -- tip: ⚙️  suppress all logs with { quiet: true }
--- Starting Backend API Integration Tests ---
✅ Server Health Check
❌ Admin Login failed
{
  "success": false,
  "message": "Invalid email or password",
  "errors": [],
  "stack": "Error: Invalid email or password\n    at AuthService.loginUser (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\src\\modules\\auth\\auth.service.ts:29:19)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\src\\modules\\auth\\auth.controller.ts:28:22"
}
✅ Doctor Login successful
❌ Admin Dashboard Summary Fetch Failed
{
  "success": false,
  "message": "Not authorized, no token provided",
  "errors": [],
  "stack": "Error: Not authorized, no token provided\n    at C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\src\\middleware\\authMiddleware.ts:18:15\n    at C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\src\\utils\\asyncHandler.ts:5:25\n    at Layer.handleRequest (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:342:13)\n    at C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:291:5)\n    at router.handle (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:186:3)\n    at router (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:60:12)\n    at Layer.handleRequest (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\lib\\layer.js:152:17)"
}
❌ Admin Global Users Fetch Failed
{
  "success": false,
  "message": "Not authorized, no token provided",
  "errors": [],
  "stack": "Error: Not authorized, no token provided\n    at C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\src\\middleware\\authMiddleware.ts:18:15\n    at C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\src\\utils\\asyncHandler.ts:5:25\n    at Layer.handleRequest (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:342:13)\n    at C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:291:5)\n    at router.handle (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:186:3)\n    at router (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:60:12)\n    at Layer.handleRequest (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\lib\\layer.js:152:17)"
}
❌ Doctor Patient List Fetch Failed
{
  "success": false,
  "message": "Not Found - /api/doctor/patients",
  "errors": [],
  "stack": "Error: Not Found - /api/doctor/patients\n    at notFound (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\src\\middleware\\errorMiddleware.ts:5:10)\n    at Layer.handleRequest (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:342:13)\n    at C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:276:14)\n    at C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\src\\middleware\\roleMiddleware.ts:9:9\n    at Layer.handleRequest (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\lib\\layer.js:152:17)"
}
❌ Clinic Config Fetch Failed
{
  "success": false,
  "message": "Not Found - /api/clinic/config",
  "errors": [],
  "stack": "Error: Not Found - /api/clinic/config\n    at notFound (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\src\\middleware\\errorMiddleware.ts:5:10)\n    at Layer.handleRequest (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:342:13)\n    at C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:276:14)\n    at router.handle (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:186:3)\n    at router (C:\\Users\\Dr. Owais\\Desktop\\Websites\\project-antigravity\\project-one-business-website\\clinic-appointment-system\\backend\\node_modules\\router\\index.js:60:12)"
}

--- Test Summary ---
Total Passed: 2
Total Failed: 5
